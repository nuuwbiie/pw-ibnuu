<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio Ibnu</title>
    
    <link rel="stylesheet" href="style.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <nav class="navbar">
        
        
        <button class="hamburger-btn" aria-label="Toggle Menu" aria-expanded="false">
            <span class="icon-hamburger">&#9776;</span>
            <span class="icon-close">&times;</span>
        </button>
        
        <div class="navbar-content">
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="projects.html">Project</a></li>
                <li><a href="writing.html">Writing</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="src/CV Ibnu Rizqi Indra Daniswara (1).pdf">Resume</a></li>
            </ul>
            <div class="lang-switcher">
                <span class="active-lang">ID</span>
                <span>中文</span>
            </div>
        </div>
    </nav>

    <main class="hero-section">
        
        <div class="hero-text">
            <div class="social-icons">
                <a href="https://www.linkedin.com/in/ibnu-rizqi-indra-daniswara-059a8520a/" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/nuuwbiie" aria-label="GitHub"><i class="fab fa-github"></i></a>
                <a href="https://www.instagram.com/ibnuurzq_/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                
                <a href="#" aria-label="WeChat" class="qr-trigger">
                    <i class="fab fa-weixin"></i>
                    <div class="qr-popup">
                        <img src="src/wx_qr.png" alt="WeChat QR Code">
                    </div>
                </a>
                
                <a href="#" aria-label="QQ" class="qr-trigger">
                    <i class="fab fa-qq"></i>
                    <div class="qr-popup">
                        <img src="src/qq_qr.jpg" alt="QQ QR Code">
                    </div>
                </a>
                
                <a href="mailto:emailanda@contoh.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
            </div>

            <h1>Hai, saya Ibnu.</h1>
            <p class="subtitle">Freshman | Computer Science<br>@ IPB University batch 62</p>
            <p class="interests">I ❤️ Music, Math, AI</p>
            <a href="about.html" class="cta-button">ABOUT ME</a>
        </div>
        
        <div class="hero-image">
            <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js" type="module"></script>
            <dotlottie-wc src="https://lottie.host/fb564bba-4688-46b7-95a1-15b6669e17a5/FFgPbMpxuZ.lottie" style="width: 300px;height: 300px" autoplay loop></dotlottie-wc>
        </div>
    </main>

    <footer class="site-footer">
        <p id="copyright"></p>
        <p>Dibuat dengan ❤️ di Indonesia</p>
    </footer>

    <script>
        // Script untuk copyright year
        const copyrightElement = document.getElementById('copyright');
        const currentYear = new Date().getFullYear();
        copyrightElement.textContent = `© ${currentYear} Ibnu. All rights reserved.`;

        // Script untuk hamburger menu
        const hamburgerBtn = document.querySelector('.hamburger-btn');
        const bodyEl = document.querySelector('body');

        hamburgerBtn.addEventListener('click', function() {
            bodyEl.classList.toggle('menu-open');
            const isExpanded = bodyEl.classList.contains('menu-open');
            hamburgerBtn.setAttribute('aria-expanded', isExpanded);
        });

        // Script untuk menutup menu saat mengklik link di mobile
        const navLinks = document.querySelectorAll('.nav-links a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    bodyEl.classList.remove('menu-open');
                    hamburgerBtn.setAttribute('aria-expanded', 'false');
                    
                    // Update current page title
                    const currentPageEl = document.querySelector('.current-page');
                    currentPageEl.textContent = link.textContent;
                }
            });
        });

        // Script untuk menutup menu saat mengklik di luar menu di mobile
        document.addEventListener('click', (event) => {
            const navbar = document.querySelector('.navbar');
            const isClickInsideNavbar = navbar.contains(event.target);
            
            if (window.innerWidth <= 768 && 
                bodyEl.classList.contains('menu-open') && 
                !isClickInsideNavbar) {
                bodyEl.classList.remove('menu-open');
                hamburgerBtn.setAttribute('aria-expanded', 'false');
            }
        });

        // Script untuk QR trigger - toggle QR popup saat klik
        const qrTriggers = document.querySelectorAll('.qr-trigger');
        qrTriggers.forEach(trigger => {
            trigger.addEventListener('click', function(e) {
                e.preventDefault();
                // Toggle hanya untuk trigger yang diklik
                const isActive = trigger.classList.contains('qr-active');
                
                // Tutup semua QR popup lainnya
                qrTriggers.forEach(t => {
                    if (t !== trigger) {
                        t.classList.remove('qr-active');
                    }
                });
                
                // Toggle QR popup yang diklik
                if (isActive) {
                    trigger.classList.remove('qr-active');
                } else {
                    trigger.classList.add('qr-active');
                }
            });
        });

        // Tutup QR popup saat klik di luar
        document.addEventListener('click', (event) => {
            const isClickInsideQrTrigger = Array.from(qrTriggers).some(trigger => 
                trigger.contains(event.target)
            );
            
            if (!isClickInsideQrTrigger) {
                qrTriggers.forEach(trigger => {
                    trigger.classList.remove('qr-active');
                });
            }
        });

        // Klik gambar QR untuk membuka versi penuh di tab baru
        const qrImages = document.querySelectorAll('.qr-popup img');
        qrImages.forEach(img => {
            img.addEventListener('click', (event) => {
                event.stopPropagation();
                const fullSrc = img.getAttribute('data-full-src') || img.getAttribute('src');
                window.open(fullSrc, '_blank', 'noopener');
            });
        });
    </script>

</body>
</html>